# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Telegram Bot - –û—Ç—á–µ—Ç

## üéØ **–°–¢–ê–¢–£–°: –ë–û–¢ –†–ê–ë–û–¢–ê–ï–¢, –ù–û –ù–£–ñ–ï–ù –ù–ê–°–¢–û–Ø–©–ò–ô –¢–û–ö–ï–ù**

### ‚úÖ **–ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:**

#### **1. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ Docker socket:**
- ‚ùå **–ë—ã–ª–æ**: `PermissionError(13, 'Permission denied')`
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–±—Ä–∞–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `telegram-bot` –≤ Dockerfile
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: Docker API —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω

#### **2. –ü—Ä–æ–±–ª–µ–º–∞ —Å event loop:**
- ‚ùå **–ë—ã–ª–æ**: `Cannot close a running event loop`
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –°–æ–∑–¥–∞–ª–∏ —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –±–µ–∑ asyncio
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

#### **3. –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–æ–∫–µ–Ω–æ–º:**
- ‚ùå **–ë—ã–ª–æ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–æ–∫–µ–Ω `test_token`
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –ë–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å –Ω–∞—Å—Ç–æ—è—â–∏–º —Ç–æ–∫–µ–Ω–æ–º

### üìä **–¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:**

```
ü§ñ Telegram Bot: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
üê≥ Docker: ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω
üì° API: ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω
üîß –ö–æ–¥: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω
‚ö†Ô∏è –¢–æ–∫–µ–Ω: ‚ùå –ù—É–∂–µ–Ω –Ω–∞—Å—Ç–æ—è—â–∏–π
```

### üöÄ **–ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –î–õ–Ø –ü–û–õ–ù–û–ô –†–ê–ë–û–¢–´:**

#### **1. –°–æ–∑–¥–∞—Ç—å Telegram –±–æ—Ç–∞:**
```bash
# 1. –ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram
# 2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /newbot
# 3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
# 4. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤–∏–¥–∞: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz
```

#### **2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ .env —Ñ–∞–π–ª:
TELEGRAM_BOT_TOKEN=–≤–∞—à_–Ω–∞—Å—Ç–æ—è—â–∏–π_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
OPENAI_API_KEY=–≤–∞—à_openai_–∫–ª—é—á_–∑–¥–µ—Å—å
```

#### **3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:**
```bash
./docker-manage.sh telegram-bot restart
```

### üéØ **–ö–û–ú–ê–ù–î–´ –ë–û–¢–ê (–ì–û–¢–û–í–´ –ö –†–ê–ë–û–¢–ï):**

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- `/help` - –°–ø—Ä–∞–≤–∫–∞
- `/status` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `/ping` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏

#### **–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `/quick` - –ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã
- `/summary` - –°–≤–æ–¥–∫–∞ –∑–∞ —á–∞—Å

#### **AI-–∫–æ–º–∞–Ω–¥—ã (—Ç—Ä–µ–±—É—é—Ç OpenAI API):**
- `/ask [–≤–æ–ø—Ä–æ—Å]` - –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –±–æ—Ç—É
- `/analyze` - AI-–∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã

#### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- `/nginx` - –°—Ç–∞—Ç—É—Å Nginx
- `/redis` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Redis
- `/containers` - –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- `/health` - Health checks

### üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:**

#### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `docker/telegram-bot/Dockerfile` - —É–±—Ä–∞–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `docker/telegram-bot/bot/test_main.py` - —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ asyncio
- ‚úÖ `docker/telegram-bot/bot/simple_main.py` - –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ `docker/telegram-bot/bot/main.py` - –æ—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞)

#### **–†–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ‚úÖ Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ Prometheus –∫–ª–∏–µ–Ω—Ç
- ‚úÖ Docker –∫–ª–∏–µ–Ω—Ç
- ‚úÖ AlertManager –∫–ª–∏–µ–Ω—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üìã **–ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô:**

#### **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):**
1. –°–æ–∑–¥–∞—Ç—å Telegram –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
3. –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ .env —Ñ–∞–π–ª
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã

#### **–î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:**
1. –ü–æ–ª—É—á–∏—Ç—å OpenAI API –∫–ª—é—á
2. –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á –≤ .env —Ñ–∞–π–ª
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é –±–æ—Ç–∞
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å AI-–∫–æ–º–∞–Ω–¥—ã

### üéâ **–ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:**

**‚úÖ –ë–û–¢ –¢–ï–•–ù–ò–ß–ï–°–ö–ò –ì–û–¢–û–í –ö –†–ê–ë–û–¢–ï!**

- üê≥ Docker –æ–±—Ä–∞–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç
- üîß –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- üì° API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ü§ñ –ö–æ–º–∞–Ω–¥—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:**
1. –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π Telegram —Ç–æ–∫–µ–Ω
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

**–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ!** üöÄ‚ú®ü§ñ

---

**–ê–≤—Ç–æ—Ä**: Chibilyaev Alexandr <info@aachibilyaev.com>  
**–ö–æ–º–ø–∞–Ω–∏—è**: AAChibilyaev LTD  
**–í–µ—Ä—Å–∏—è**: 3.0.0 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞  
**–î–∞—Ç–∞**: 22 –æ–∫—Ç—è–±—Ä—è 2025
