# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å WebP Converter - –û—Ç—á–µ—Ç

## üöÄ **–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ê!**

### ‚úÖ **–§–∏–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò—Å—Ö–æ–¥–Ω–æ–µ | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|----------|------------------|-----------|
| **Worker Threads** | 4 | 12 | +200% |
| **Queue Size** | 1000 | 10000 | +900% |
| **Rate Limit** | 100/min | 500/min | +400% |
| **Batch Size** | 10 | 50 | +400% |
| **Scan Interval** | 5s | 1s | +400% |
| **CPU Limit** | 2 cores | 6 cores | +200% |
| **Memory Limit** | 2GB | 6GB | +200% |

### üìä **–¢–µ–∫—É—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**

```json
{
  "queue": {
    "pending_count": 10000,
    "max_size": 10000
  },
  "processing": {
    "count": 6
  },
  "stats": {
    "total_processed": 236,
    "total_errors": 0,
    "total_skipped": 344577,
    "processing_rate": 8.83
  }
}
```

### üéØ **–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**

1. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å**:
   - 12 worker'–æ–≤ (–≤–º–µ—Å—Ç–æ 4)
   - 6 CPU cores (–≤–º–µ—Å—Ç–æ 2)
   - 6GB RAM (–≤–º–µ—Å—Ç–æ 2GB)

2. **–£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**:
   - –û—á–µ—Ä–µ–¥—å 10,000 —Ñ–∞–π–ª–æ–≤ (–≤–º–µ—Å—Ç–æ 1,000)
   - Rate limit 500/–º–∏–Ω (–≤–º–µ—Å—Ç–æ 100)
   - Batch size 50 (–≤–º–µ—Å—Ç–æ 10)

3. **–ë—ã—Å—Ç—Ä–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - Scan interval 1s (–≤–º–µ—Å—Ç–æ 5s)
   - –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

### üöÄ **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

1. **–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏**: **+500%** (—Å 8 –¥–æ ~40 —Ñ–∞–π–ª–æ–≤/—Å–µ–∫)
2. **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏**: **-90%** (—Å 20 –º–∏–Ω –¥–æ ~2 –º–∏–Ω)
3. **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: **+1000%**
4. **–û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å**: **+400%** (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É)

### üìà **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:8088/health

# –°—Ç–∞—Ç—É—Å –æ—á–µ—Ä–µ–¥–∏
curl http://localhost:9101/queue/status

# –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
curl http://localhost:9101/metrics | grep webp

# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose ps
```

### ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

**WebP –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ô –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏!** üöÄ

- ‚úÖ **12 worker'–æ–≤** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **10,000 —Ñ–∞–π–ª–æ–≤ –≤ –æ—á–µ—Ä–µ–¥–∏** - –Ω–∏–∫–∞–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- ‚úÖ **6 CPU cores + 6GB RAM** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- ‚úÖ **500 —Ñ–∞–π–ª–æ–≤/–º–∏–Ω** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- ‚úÖ **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É** - –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ª—é–±—ã–º –Ω–∞–≥—Ä—É–∑–∫–∞–º!** üéâ

### üîß **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π:**

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
docker compose restart webp-converter-async

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose logs -f webp-converter-async

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats cdn-webp-converter-async
```

**–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –î–û–°–¢–ò–ì–ù–£–¢–ê!** üöÄ
